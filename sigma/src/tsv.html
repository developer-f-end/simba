<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title></title>
  <style>
    line{
      stroke: #c8c8c8;
      stroke-width: 1px;
    }
  </style>
</head>

<body>


<div class="wrapper">

  <svg width="100%" height="400"></svg>



</div>
<script src="http://d3js.org/d3.v3.min.js"></script>
<script>


  var svg = d3.select("svg");

  var web = d3.layout.force()
      .linkStrength(1.0)
      .friction(.9)
      .linkDistance(-10)
      .charge(-50)
      .gravity(.07)
      .theta(0.8)
      .alpha(0.1)
      .on('tick',tick);


  web.size([1200, 400]);

  var x = 80;
  var y = 200;

    d3.tsv("csv/all-data.tsv", function(data) {


      var g = svg.append('g')
          .attr('width', '100%')
          .attr('height', '100%');

      var v = g.selectAll('rect').data([1]);
      v.enter().append('rect')
          .attr('width', '100%')
          .attr('height', '100%')
          .style('fill', 'rgba(0,0,0,0.2)');

      var circle = g.selectAll('circle')
          .data(data)
          .enter().append('circle')
          .filter(function (d) {
            return d.id
          })
          .attr('r', '4')
          .attr('cx', function (d, i) {
            return i * x
          })
          .attr('cy', y)
          .style('fill', 'green')
          .style('stroke', '#fff');



          var text = g.selectAll('text');
              text
               .data(data)
               .enter().append('text')
                .filter(function (d) {
                    return  d.id
                })
               .text(function(d){return d.label})
                .attr('dx', function (d, i) {
                    return i * x
                })
                .attr('dy', function(d,i){return i*10 + 200});


          var links = g.selectAll('line');
              links
                  .data(data)
                  .enter().append('line')
                  .filter(function (d) {
                    return d.source
                  })
                  .attr('x1',function (d,i) {
                    return d.source.x
                  })
                  .attr('y1',function (d,i) {
                    return  d.source.y
                  })
                  .attr('x2',function (d,i) {
                    return d.target.x
                  })
                  .attr('y2',function (d,i) {
                    return  d.target.y
                  })



    });


  function tick(){

  }




</script>



</body>


</html>